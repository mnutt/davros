<div class="picker flex flex-col h-full" {{did-insert this.loadInitialPath}}>
  <div class="flex-1 flex flex-col relative overflow-x-hidden overflow-y-auto">
    {{#if this.isLoading}}
      <div class="loading-container flex-1 flex flex-col justify-center">
        <div class="loader"></div>
        <div class="loading-text">LOADING</div>
      </div>
    {{else}}
      <div class="absolute inset-0">
        <DirectoryListing class="flex-1" @model={{this.model}} @canSelect={{false}} @onClick={{this.onClick}} @filter={{this.filter}}/>
      </div>
    {{/if}}
  </div>

  {{#if @directoriesOnly}}
    <div class="flex flex-col sm:flex-row">
      <div class="flex-1 font-bold flex items-center mt-2">
        Chosen directory:&nbsp;
        <PathBreadcrumb @path={{this.path}} @onClick={{this.onBreadcrumbClick}} />
        &nbsp;
        {{this.model.name}}
      </div>
      <button type="button" class="button-primary sm:ml-2 mt-2" {{on "click" (fn @onSelected this.path)}}>Move File(s)</button>
    </div>
  {{/if}}
</div>